@using Nhom10_WebTraSua.Models
@model List<SANPHAM>
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div>
    <div id="autoCarousel" class="carousel slide" data-ride="carousel" data-interval="3000">
        <!-- Indicators -->
        <ol class="carousel-indicators">
            <li data-target="#autoCarousel" data-slide-to="0" class="active"></li>
            <li data-target="#autoCarousel" data-slide-to="1"></li>
            <li data-target="#autoCarousel" data-slide-to="2"></li>
            <li data-target="#autoCarousel" data-slide-to="3"></li>
        </ol>

        <!-- Slides -->
        <div class="carousel-inner">
            <div class="carousel-item active">
                <a href="#">
                    <img src="~/Images/slider1.png" class="d-block w-100 carousel-image" alt="Slide 1">
                </a>
            </div>
            <div class="carousel-item">
                <a href="#">
                    <img src="~/Images/slider2.png" class="d-block w-100 carousel-image" alt="Slide 2">
                </a>
            </div>
            <div class="carousel-item">
                <a href="#">
                    <img src="~/Images/slider3.png" class="d-block w-100 carousel-image" alt="Slide 3">
                </a>
            </div>
            <div class="carousel-item">
                <a href="">
                    <img src="~/Images/slider4.png" class="d-block w-100 carousel-image" alt="Slide 4">
                </a>

            </div>
        </div>

        <!-- Controls -->
        <a class="carousel-control-prev" href="#autoCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#autoCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <h2 class="text-center" style="padding: 20px 0; color:var(--primary-color); font-weight:600">Sản Phẩm Nổi Bật</h2>
    <div class="drinks-container">
        @foreach (SANPHAM item in Model.Take(5)) //Hiện 5 sản phẩm
        {
            <div class="drink-card" onclick="location.href='@Url.Action("ThanhToanSanPham", "ThanhToan", new { maSP = item.MASP })'">
                <img src="~/Images/@item.HINHANH" alt="@item.TENSP">
                <h3 title="@item.TENSP">@item.TENSP</h3>
                <p>@item.GIA ₫</p>
                <button class="order-button">🛒 Đặt mua</button>
            </div>

        }

    </div>
    <div style="text-align:center; padding: 20px 0;">
        @Html.ActionLink("Xem thêm sản phẩm", "Index", "Home", null, new { @class = "text-redirect" })
    </div>

    <h2 style="font-size:2rem;text-align:center; color: var(--primary-color); font-weight:bold;">Liên Hệ Với Chúng Tôi</h2>
    <div class="container-contact">

        <!-- Phần bản đồ -->
        <div class="container-contact__map">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2753.4673200164057!2d106.62743032683653!3d10.8064859871722!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31752be27d8b4f4d%3A0x92dcba2950430867!2zVHLGsOG7nW5nIMSQ4bqhaSBo4buNYyBDw7RuZyBUaMawxqFuZyBUUC4gSOG7kyBDaMOtIE1pbmggKEhVSVQp!5e0!3m2!1svi!2s!4v1731233848473!5m2!1svi!2s" class="w-100 h-100" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
        <!-- Phần thông tin liên hệ -->
        <div class="container-contact__info">
            <div>

                <p>Địa chỉ: 140 Lê Trọng Tấn, Phường Sơn Kỳ, Quận Tân Phú, TP.HCM</p>
                <p>SĐT: 0123456789</p>
                <p>Email: bubumilktea@gmail.com</p>
            </div>
            <h3 style="text-align:center;">Gửi Thông Tin</h3>
            @using (Html.BeginForm("PhanHoi", "Home", FormMethod.Post))
            {
                <div class="mb-3">
                    <label for="name" class="form-label">Họ và Tên:</label>
                    <input type="number" id="Id" name="MAPHANHOI" value="1" hidden />
                    <input type="text" id="name" name="HOVATEN" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label for="email" class="form-label">Email:</label>
                    <input type="email" id="email" name="EMAIL" class="form-control" required>
                </div>
                <div class="mb-3">
                    <label for="message" class="form-label">Lời Nhắn:</label>
                    <textarea id="message" name="NOIDUNG" class="form-control" rows="4" required></textarea>
                </div>
                <button type="submit" class="btn btn-success">Gửi</button>
            }

        </div>
    </div>
</div>


<!-- Success Modal -->
@if (TempData["FeedbackSuccess"] != null)
{
    <div class="modal show" tabindex="-1" role="dialog" style="display: block;">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Thông Báo</h5>
                </div>
                <div class="modal-body">
                    <p>Cảm ơn bạn đã gửi phản hồi!</p>
                </div>
                <div class="modal-footer">
                    <a href="@Url.Action("Index", "Home")" class="btn btn-primary">Đóng</a>
                </div>
            </div>
        </div>
        <div class="modal-backdrop fade show" style="z-index:-1;"></div>
    </div>
}


<style>

    .carousel {
        width: 100%;
        margin: auto;
        border-radius: 10px;
        overflow: hidden;
    }

    .carousel-image {
        object-fit: contain;
    }

    .carousel-indicators li {
        background-color: transparent;
        width: 10px;
        margin: 0 10px;
        height: 10px;
        border-radius: 40%;
        border: 1px solid #808080;
        transition: background-color 0.3s ease, transform 0.3s ease, width 0.3s ease;
    }

    .carousel-indicators .active {
        background-color: #d7dce1;
        /* Màu nền khi được chọn */
        transform: scale(2.0) translateY(-2px);
    }

    .carousel-control-prev-icon,
    .carousel-control-next-icon {
        background-color: transparent;
    }



    /* Container styling */
    .drinks-container {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 20px;
        margin: 20px;
        padding: 10px 0;
    }

    /* Drink card styling */
    .drink-card {
        width: 200px;
        /* flex: 1 1 calc(33.333% - 20px);  /*Giới hạn 3 sản phẩm mỗi dòng
            max-width: calc(33.333% - 20px);  */
        padding: 15px;
        background-color: #f8f9fa;
        border-radius: 8px;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        text-align: center;
        transition: box-shadow 0.3s ease;
    }

        /* Image styling */
        .drink-card img {
            width: 100%;
            height: auto;
            margin-bottom: 10px;
            border-radius: 8px;
        }

        /* Title styling */
        .drink-card h3 {
            font-size: 18px;
            color: var(--primary-color);
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

            .drink-card h3:hover::before /*Tạo title khi hover vào tên*/ {
                content: attr(title);
                position: absolute;
                top: -30px;
                left: 50%;
                transform: translateX(-50%);
                background-color: #666;
                color: #fff;
                padding: 5px 10px;
                border-radius: 5px;
                white-space: nowrap;
                font-size: 14px;
            }
        /* Giá */
        .drink-card p {
            font-size: 16px;
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 10px;
        }

        /* Nút đặt mua */
        .drink-card .order-button {
            background-color: var(--nonactive-color);
            color: #fff;
            text-shadow: 1px 0 0 0 #ccc;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            position: relative;
            z-index: 1;
        }

            .drink-card .order-button:before { /*Tạo lớp phủ */
                content: '';
                position: absolute;
                top: 0;
                left: 50%;
                width: 0;
                border: none;
                border-radius: 5px;
                height: 100%;
                background-color: var(--primary-color);
                transition: width 0.4s ease, left 0.4s ease;
                z-index: -1;
            }


        /* Hover effects */
        .drink-card:hover {
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .drink-card .order-button:hover:before {
            width: 100%;
            left: 0;
        }

    .text-redirect {
        display: inline-block;
        padding: 10px 20px;
        font-size: 1.2rem;
        color: #000;
        background-color: var(--nonactive-color);
        border: 1px solid #ccc;
        border-radius: 5px;
        text-decoration: none;
        text-align: center;
        transition: background-color 0.3s ease;
    }

        .text-redirect:hover {
            color: #fff;
            background-color: var(--primary-color);
            text-decoration: none;
        }


    /*Contact*/
    .container-contact {
        display: flex;
        padding: 0 0 0 24px;
    }

    .container-contact__map {
        width: 100%;
        padding: 24px;
    }

    .container-contact__info {
        display: flex;
        flex-direction: column;
        padding: 24px;
    }
</style>